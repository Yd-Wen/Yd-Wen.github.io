---
title: 物联网
icon: iot
date: 2025-06-10
category: 大数据
tag: 
  - 物联网
---

## 1 物联网概述

### 1.1 物联网简介

**概念**：

1. 物联网概念：万物互联构成网络，实现彼此信息互通及信息应用。

2. 常规物联网：通过感知万物的传感设备互联构成网络，实现信息互通及信息应用。

3. 广义物联网：泛在系统的互联互通，包括人、物、环境等。

**物联网系统构建过程**：

1. 选择智能设备：根据需求，目标获取数据。

2. 智能设备互联：有线、无线连接。

3. 设备交互软件编程：编程向设备发送请求命令，接收设备数据。

4. 应用软件开发：数据存储、分析和检索。

5. 应用软件互联：提供访问接口，避免信息孤岛。    

**应用领域**：

- 工业：电冰箱性能监测。

- 农业：农业大棚监测。

- 家居：照明、窗帘、空调、安防等。

- 海洋：海底观测（海床基）、海面观测（海洋浮标）、剖面观测（Argo漂流浮标）。

- 医疗：远程控制、机器人手术。

### 1.2 设备互联

**智能设备互联**：

1. 无线通信

	- 通信协议一致（wifi、NB-IoT等）

	- 增加协议转换器（网关）
    
2. 有线通信

	- 接口类型一致（以太网、USB等）

	- 增加接口转换器

## 2 传感设备

### 2.1 主要种类

传感设备种类：

- 模拟量输出：

	- 标准电压输出

	- 标准电流输出

	- 非标准模拟量输出（热电偶输出毫伏信号/转速转换器输出频率信号）

- 开关量输出：

	- TTL电平输出

	- 继电器输出（传感设备正常：COM和NC闭合，NO断开；传感设备异常：COM和NC断开，NO闭合）（如烟雾、火焰传感设备）

- 通信接口输出：数字量接口传感设备与计算机连接

	- 串行接口

	- 并行接口

	- 有线网络接口

	- 无线网络接口

### 2.2 通信接口

**主要通信接口**：

1. RS-232：串行接口，全双工通信    

引脚定义

|引脚|信号|功能|
|---|---|---|
|2|RXD|接收数据|
|3|TXD|发送数据|
|5|GND|信号地|

引脚互联

- 2-3

- 3-2

- 5-5

::: important
**计算机与多个RS-232接口的设备通信时，通信周期等于一个设备的通信周期**。
:::

2. RS-485：串行接口，半双工通信

::: important
**计算机与多个RS-485接口的设备通信时，通信周期等于一个设备的通信周期的N倍**。
:::

3. Ethernet：以太网

4. WiFi

5. NBIoT：适合低功耗、低传输频次、低成本的场景

6. 5G：高速率、低延时、广连接

## 3 通信协议及解析

**通信协议：计算机和传感设备之间信息交互过程和信息交互格式的约定**。

多字节型通信协议：modbus协议。

以数据查询命令为例：

![查询命令.png](https://gitee.com/yindong-wen/mypicgo_img/raw/master/image/202506092342949.png)

返回数据格式：

![返回数据.png](https://gitee.com/yindong-wen/mypicgo_img/raw/master/image/202506092345023.png)

## 4 校验及通信工具

### 4.1 求和校验

- 分割：按8位（1字节）分割。

- 求和：将各个分割单元相加。

- 处理：溢出（和超过8位置）：丢弃最高位（溢出部分），保留低8位。

- 补码：将和取反加一。

### 4.2 CRC校验/循环冗余校验

- 发送方

	 - 校验数据除以规定的除数

	 - 将余数作为校验结果附加在校验数据后

 - 接收方

	 - 接收数据除以规定的除数

	 - 余数为0则校验通过

中间结果使用异或运算（同0异1）。

### 4.3 串口助手

参数设置：

- 串口号

- 波特率

- 校验位

- 数据位

- 停止位

### 4.4 网络助手

参数设置

- 协议类型：UDP/TCP（Client/Server）

- 本机主机地址：192.168.10.202 / 192.168.10.200

- 本机主机端口号/远程主机端口号：192.168.10.200:8080 / 8080

::: important
若利用网口助手模拟一个通信单元的 TCP 客户端， 需设置的网络参数包括（ACD）。A．本地主机 IP B．本地端口号 C．远程主机 IP D．远程主机端口号。

若利用网口助手模拟一个通信单元的 TCP 服务端， 需设置的网络参数包括（AB）。A．本地主机 IP B．本地端口号 C．远程主机 IP D．远程主机端口号。
:::

## 5 设备交互软件编程

过程：

1. 初始化通信接口

2. 发送获取数据命令

3. 等待定长

4. 获取返回数据

5. 解析返回数据

## 6 节点应用软件

软件功能结构：

![软件功能结构.png](https://gitee.com/yindong-wen/mypicgo_img/raw/master/image/202506100026974.png)
